<!--
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the Source EULA. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
-->
<ng-template #templateRef>
	<div
		*ngIf="visible"
		[ngClass]="'grid-stack-item'"
		attr.data-card-id="{{metadata.guid}}"
		attr.gs-w="{{width}}"
		attr.gs-h="{{height}}"
		attr.gs-x="{{x}}"
		attr.gs-y="{{y}}"
	>
		<div
			#item
			class="grid-stack-item-content notebook-card"
		>
			<div class="grid-stack-content-wrapper">
				<!-- <div>header</div> -->
				<div class="grid-stack-content-wrapper-inner">
					<div #container>
						<div class="card-container">
							<div *ngIf="cell !== undefined">
								<views-code-cell-component *ngIf="cell.cellType === 'code'" [cellModel]="cell" [model]="model" [activeCellId]="cell.id + 000" [visible]="visible">
								</views-code-cell-component>
								<text-cell-component *ngIf="cell.cellType === 'markdown'" [cellModel]="cell" [model]="model" [activeCellId]="cell.id + 000">
								</text-cell-component>
							</div>
						</div>
					</div>
				</div>
				<div class="tabs-and-actions-container">
					<div class="tabs-container" role="tablist" draggable="true">
						<ng-container *ngFor="let tab of tabs">
							<view-card-tab-component #wrapper [tabTransfer]="tabTransfer" [card]="card" [tab]="tab" [active]="tab.guid === activeTab?.guid" [activeView]="activeView" (onTabSelected)="handleTabSelected($event)"></view-card-tab-component>
							<ng-content *ngTemplateOutlet='wrapper.templateRef'></ng-content>
						</ng-container>
					</div>
				</div>
			</div>
		</div>
	</div>
</ng-template>
